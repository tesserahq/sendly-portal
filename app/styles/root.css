@config '../../tailwind.config.ts';
@import 'tailwindcss';
@source '../../node_modules/tessera-ui/src/**/*.{js,jsx,ts,tsx}';

html,
body {
  @apply bg-background font-geist;

  @media (prefers-color-scheme: dark) {
    color-scheme: dark;
  }
}

/* Variables */
:root {
  @apply [--main-sidebar-width:0rem] [--margin-x:1rem] [--sidebar-panel-min-width:64px] [--sidebar-panel-width:300px] md:[--margin-x:1.5rem] md:[--sidebar-panel-width:220px] lg:[--main-sidebar-width:0rem] xl:[--margin-x:4rem];
}

.has-min-sidebar {
  @apply xl:[--margin-x:1.5rem];
}

.is-sidebar-open {
  @apply xl:[--margin-x:1.5rem];
}

@layer base {
  :root {
    --background: 90, 20%, 97%; /* #f6f8f5 */
    --foreground: 220, 15%, 15%; /* #1f2937 */

    --card: 0, 0%, 100%;
    --card-foreground: 20, 20%, 10%;

    --popover: 0, 0%, 100%;
    --popover-foreground: 20, 20%, 10%;

    /* ðŸŸ§ LOGO CORE */
    --primary: 21, 100%, 55%; /* #FF8C1A */
    --primary-foreground: 0, 0%, 100%;

    --secondary: 30, 100%, 96%; /* light peach */
    --secondary-foreground: 21, 100%, 20%;

    --muted: 30, 40%, 94%;
    --muted-foreground: 21, 15%, 40%;

    --accent: 21, 100%, 75%; /* #FFB347 */
    --accent-foreground: 21, 100%, 20%;

    --destructive: 0, 84%, 60%;
    --destructive-foreground: 0, 0%, 100%;

    --border: 30, 30%, 88%;
    --input: 30, 30%, 88%;
    --ring: 21, 100%, 55%;

    /* Charts follow logo gradient */
    --chart-1: 21, 100%, 55%; /* core orange */
    --chart-2: 21, 100%, 65%;
    --chart-3: 21, 100%, 45%; /* #E66B1A */
    --chart-4: 21, 100%, 35%; /* #CC5500 */
    --chart-5: 21, 100%, 25%;

    --radius: 0.75rem;

    /* Sidebar */
    --sidebar-background: 30, 100%, 97%;
    --sidebar-foreground: 21, 100%, 20%;
    --sidebar-primary: 21, 100%, 55%;
    --sidebar-primary-foreground: 0, 0%, 100%;
    --sidebar-accent: 21, 100%, 90%;
    --sidebar-accent-foreground: 21, 100%, 25%;
    --sidebar-border: 30, 30%, 88%;
    --sidebar-ring: 21, 100%, 55%;
  }
  .dark {
    --background: 220, 20%, 12%; /* #0f172a */
    --foreground: 0, 0%, 95%; /* #f3f4f6 */

    --card: 220, 18%, 18%; /* #1f2933 */
    --card-foreground: 0, 0%, 92%;

    --popover: 220, 18%, 16%;
    --popover-foreground: 0, 0%, 92%;

    --primary: 21, 100%, 55%; /* logo stays dominant */
    --primary-foreground: 0, 0%, 100%;

    --secondary: 20, 25%, 20%;
    --secondary-foreground: 30, 100%, 92%;

    --muted: 20, 25%, 22%;
    --muted-foreground: 30, 30%, 70%;

    --accent: 21, 100%, 45%; /* deeper orange */
    --accent-foreground: 30, 100%, 95%;

    --destructive: 0, 84%, 60%;
    --destructive-foreground: 0, 0%, 98%;

    --border: 20, 20%, 28%;
    --input: 20, 20%, 28%;
    --ring: 21, 100%, 55%;

    --chart-1: 21, 100%, 55%;
    --chart-2: 21, 100%, 65%;
    --chart-3: 21, 100%, 45%;
    --chart-4: 21, 100%, 35%;
    --chart-5: 21, 100%, 25%;

    --sidebar-background: 220, 18%, 16%;
    --sidebar-foreground: 0, 0%, 95%;
    --sidebar-primary: 90, 63%, 56%;
    --sidebar-primary-foreground: 90, 30%, 10%;
    --sidebar-accent: 90, 30%, 22%;
    --sidebar-accent-foreground: 90, 50%, 80%;
    --sidebar-border: 220, 15%, 28%;
    --sidebar-ring: 90, 63%, 56%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground dark:text-primary-foreground;
  }

  body {
    @apply font-sans text-sm leading-5 text-slate-800 antialiased [text-rendering:optimizeLegibility] dark:[color-scheme:dark];
  }

  body.is-monochrome::before {
    @apply pointer-events-none fixed inset-0 z-[999999] -m-[5rem] h-[calc(100%+10rem)] w-[calc(100%+10rem)] backdrop-grayscale backdrop-opacity-[.92] content-[''];
  }
}
/* Sidebar Toggle Button */
.menu-toggle span {
  @apply h-[2px] w-5 translate-x-0 bg-current transition-all duration-200 ease-in-out;
}

.menu-toggle span:nth-child(2) {
  @apply w-3;
}

.menu-toggle.active span {
  @apply ml-2 w-[11px] -translate-x-2;
}

.menu-toggle.active span:nth-child(1) {
  @apply -rotate-45;
}

.menu-toggle.active span:nth-child(2) {
  @apply hidden;
}

.menu-toggle.active span:nth-child(3) {
  @apply rotate-45;
}

/* Sidebar */
.main-sidebar {
  @apply fixed top-0 left-0 z-40 h-full w-[var(--main-sidebar-width)] shrink-0 -translate-x-full transform-gpu transition-transform duration-200 ease-in md:z-[60] md:translate-x-0;
}

.is-sidebar-open .main-sidebar {
  @apply translate-x-0;
}

.sidebar-panel {
  @apply dark:shadow-navy-900/60 md:animate-slide-left fixed top-[61px] left-0 z-30 h-full w-[calc(var(--main-sidebar-width)+var(--sidebar-panel-width))] -translate-x-full transform-gpu transition-transform delay-150 duration-100 ease-in md:delay-0;
}

.is-sidebar-open .sidebar-panel {
  @apply translate-x-0 ease-out;
}

.sidebar-panel-min {
  @apply dark:shadow-navy-900/60 fixed top-[61px] z-40 h-full w-[var(--sidebar-panel-min-width)] shrink-0 -translate-x-full transform-gpu border-r border-solid border-gray-200 transition-transform duration-200 ease-in md:translate-x-[var(--main-sidebar-width)] dark:border-gray-700;
}

.is-sidebar-open .sidebar-panel-min {
  @apply -translate-x-full;
}

/* Header */
nav.header {
  @apply border-border dark:border-navy-700 dark:bg-background fixed top-0 right-0 z-20 flex h-[61px] w-full border-b bg-white transition-all duration-200 md:w-[calc(100%-var(--main-sidebar-width))];
}

nav.header:before {
  @apply absolute -left-[calc((100vw-100%))] h-full w-[calc(100vw-100%)] content-[''];
}

nav.header .header-container {
  @apply pr-5 pl-3 transition-[padding,width] duration-200 xl:pr-8;
}

/* .has-min-sidebar nav.header {
  @apply md:w-[calc(100%-(var(--main-sidebar-width)+var(--sidebar-panel-min-width)))];
}

.is-sidebar-open nav.header {
  @apply xl:w-[calc(100%-(var(--main-sidebar-width)+var(--sidebar-panel-width)))];
} */

.is-header-blur nav.header .header-container {
  @apply dark:supports-[backdrop-filter]:bg-background backdrop-blur supports-[backdrop-filter]:bg-white;
}

.is-header-not-sticky nav.header {
  @apply absolute;
}

/* Main content */
.main-content {
  @apply bg-background mt-[61px] transition-[width,margin-left,margin-right,padding-left,padding-right] duration-200 ease-in md:ml-[var(--main-sidebar-width)] print:m-0;
}

.has-min-sidebar .main-content {
  @apply md:ml-[calc(var(--main-sidebar-width)+var(--sidebar-panel-min-width))];
}

.is-sidebar-open .main-content {
  @apply ease-out xl:ml-[calc(var(--main-sidebar-width)+var(--sidebar-panel-width))];
}

/* Sideblock styles */
.navigation\:sideblock {
  @apply [--sideblock-width:260px];
}

.navigation\:sideblock .sidebar-panel {
  @apply w-[var(--sideblock-width)] -translate-x-full;
}

.navigation\:sideblock.is-sidebar-open .sidebar-panel {
  @apply translate-x-0;
}

.navigation\:sideblock nav.header {
  @apply w-full;
}

.navigation\:sideblock.is-sidebar-open nav.header {
  @apply xl:w-[calc(100%-(var(--sideblock-width)))];
}

.navigation\:sideblock .main-content {
  @apply ml-0;
}

.navigation\:sideblock.is-sidebar-open .main-content {
  @apply xl:ml-[var(--sideblock-width)];
}

/* Navigation Horizontal */
.navigation\:horizontal nav.header {
  @apply w-full sm:h-auto;
}

.navigation\:horizontal .main-content {
  @apply ml-0 sm:mt-28;
}

/* Fix 100vh issue for phones */
.h-100vh {
  height: 100vh;
  height: calc(var(--vh, 1vh) * 100);
}

.min-h-100vh {
  min-height: 100vh;
  min-height: calc(var(--vh, 1vh) * 100);
}

/* Demo inline space */
.inline-space > :not([hidden]) {
  @apply mr-2.5 mb-2.5;
}

/* Scrollbar styles */
.is-scrollbar-hidden {
  @apply [scrollbar-width:none]; /* Firefox */
}

.is-scrollbar-hidden::-webkit-scrollbar {
  @apply hidden;
}

@supports selector(::-webkit-scrollbar) {
  .scrollbar-sm::-webkit-scrollbar {
    @apply size-1.5;
  }

  .scrollbar-sm:hover::-webkit-scrollbar-thumb,
  .scrollbar-sm:focus-within::-webkit-scrollbar-thumb {
    @apply dark:bg-navy-400 rounded-full bg-slate-300/80;
  }

  .scrollbar-sm::-webkit-scrollbar-thumb:hover {
    @apply dark:bg-navy-300 bg-slate-400;
  }
}

.d-list {
  margin: 0;
}

.d-list .d-item {
  @apply dark:border-navy-400 flex items-center gap-1 border-b pb-2.5;
}

.d-list .d-item:last-child {
  @apply border-none pb-0;
}

.d-list > :not([hidden]) ~ :not([hidden]) {
  @apply mt-2;
}

.d-list .d-item .d-label {
  @apply text-secondary-foreground max-w-48 min-w-32 shrink-0 overflow-hidden text-ellipsis whitespace-nowrap;
}

.d-list .d-item .d-content {
  word-break: break-all;
  @apply dark:text-navy-50 line-clamp-1 flex items-center text-sm font-medium text-black;
}

/* app-preloader */
.app-preloader .app-preloader-inner::after,
.app-preloader .app-preloader-inner::before {
  @apply dark:bg-navy-300/50 absolute top-0 left-0 h-full w-full rounded-full bg-slate-300/[.25] content-[''];
  animation: spinner-grow 3s cubic-bezier(0.55, 0.15, 0.45, 0.85) infinite;
}

.app-preloader .app-preloader-inner::after {
  animation-delay: -1.5s;
}

.required::after {
  @apply ml-0.5 font-bold text-red-500;
  content: '*';
}

.input-error {
  @apply !border-red-500 transition-all duration-200 ease-in-out hover:border-red-500 focus-visible:!border-red-500 focus-visible:!ring-red-500 dark:!border-red-400 dark:focus-visible:!ring-red-400;
}

.error-message {
  @apply animate-slide-up text-xs text-red-500 dark:text-red-400;
}

.button-link {
  @apply hover:text-primary font-medium hover:underline;
}

.no-scrollbar {
  /* For WebKit browsers */
  ::-webkit-scrollbar {
    display: none;
  }

  /* For Firefox */
  scrollbar-width: none;

  /* For older Edge and IE */
  -ms-overflow-style: none;
}

.page-title {
  @apply dark:text-foreground text-[1.85rem] font-bold;
}

input[type='time']::-webkit-calendar-picker-indicator {
  filter: invert(0.5) sepia(1) saturate(5) hue-rotate(175deg);
  position: absolute;
  left: 0;
  width: 20px;
  height: 20px;
  cursor: pointer;
}

.input-search {
  @apply border-input ring-offset-background file:text-foreground placeholder:text-muted-foreground hover:border-primary focus-visible:ring-primary dark:text-primary-foreground dark:bg-background flex h-10 w-full rounded border bg-white px-3 py-2 text-base transition-all duration-100 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:opacity-50 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm;
}

.page-title {
  @apply dark:text-foreground text-[1.85rem] font-bold;
}

.page-content {
  @apply animate-slide-up mx-auto max-w-screen-2xl p-6 lg:p-8;
}
